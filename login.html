<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Music App with Accounts</title>
<style>
  body{font-family:sans-serif;background:#0f1724;color:#fff;display:flex;justify-content:center;align-items:center;height:100vh;margin:0}
  .hidden{display:none}
  .card{background:#142033;padding:20px;border-radius:10px;max-width:320px;width:100%}
  input{width:100%;padding:8px;margin:6px 0;border:none;border-radius:6px}
  button{padding:8px 14px;border:none;border-radius:6px;background:#6ee7b7;color:#022;font-weight:600;cursor:pointer;width:100%}
  .link{color:#6ee7b7;cursor:pointer;text-decoration:underline;font-size:13px;text-align:center;display:block;margin-top:8px}
</style>
</head>
<body>

<!-- LOGIN SCREEN -->
<div id="loginScreen" class="card">
  <h2>Login</h2>
  <input id="loginUser" placeholder="Username">
  <input id="loginPass" type="password" placeholder="Password">
  <button id="loginBtn">Login</button>
  <span class="link" id="goSignup">Need an account? Sign up</span>
</div>

<!-- SIGNUP SCREEN -->
<div id="signupScreen" class="card hidden">
  <h2>Sign Up</h2>
  <input id="signupUser" placeholder="Username">
  <input id="signupPass" type="password" placeholder="Password">
  <button id="signupBtn">Create Account</button>
  <span class="link" id="goLogin">Already have an account? Login</span>
</div>

<!-- APP SCREEN -->
<div id="appScreen" class="hidden">
  <h1>🎶 Welcome, <span id="usernameDisplay"></span>!</h1>
  <button id="logoutBtn">Logout</button>
</div>

<script>
  const loginScreen=document.getElementById('loginScreen');
  const signupScreen=document.getElementById('signupScreen');
  const appScreen=document.getElementById('appScreen');
  const usernameDisplay=document.getElementById('usernameDisplay');

  const loginUser=document.getElementById('loginUser');
  const loginPass=document.getElementById('loginPass');
  const signupUser=document.getElementById('signupUser');
  const signupPass=document.getElementById('signupPass');

  // Switch screens
  document.getElementById('goSignup').onclick=()=>{loginScreen.classList.add('hidden');signupScreen.classList.remove('hidden')};
  document.getElementById('goLogin').onclick=()=>{signupScreen.classList.add('hidden');loginScreen.classList.remove('hidden')};

  // Sign up
  document.getElementById('signupBtn').onclick=()=>{
    const u=signupUser.value.trim(), p=signupPass.value.trim();
    if(!u||!p){alert("Fill all fields");return;}
    if(localStorage.getItem("user:"+u)){alert("User exists");return;}
    localStorage.setItem("user:"+u, JSON.stringify({username:u,password:p}));
    alert("Account created ✔️");
    signupUser.value="";signupPass.value="";
    signupScreen.classList.add('hidden');loginScreen.classList.remove('hidden');
  };

  // Login
  document.getElementById('loginBtn').onclick=()=>{
    const u=loginUser.value.trim(), p=loginPass.value.trim();
    const data=localStorage.getItem("user:"+u);
    if(!data){alert("No such user");return;}
    const user=JSON.parse(data);
    if(user.password!==p){alert("Wrong password");return;}
    sessionStorage.setItem("sessionUser",u);
    showApp(u);
  };

  // Logout
  document.getElementById('logoutBtn').onclick=()=>{
    sessionStorage.removeItem("sessionUser");
    appScreen.classList.add('hidden');loginScreen.classList.remove('hidden');
  };

  function showApp(u){
    usernameDisplay.textContent=u;
    loginScreen.classList.add('hidden');
    signupScreen.classList.add('hidden');
    appScreen.classList.remove('hidden');
  }

  // Auto-login if session exists
  const sess=sessionStorage.getItem("sessionUser");
  if(sess) showApp(sess);
</script>
</body>
</html>
