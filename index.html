<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>WavePlayer</title>
  <style>
    body{
      margin:0;font-family:Inter,system-ui,sans-serif;background:#0f1724;color:#e6eef6;
      display:flex;justify-content:center;align-items:center;min-height:100vh;padding:24px;
    }
    .hidden{display:none}

    /* --- HOME SCREEN --- */
    .home{
      max-width:900px;width:100%;display:grid;gap:20px;
      grid-template-columns:repeat(auto-fit,minmax(200px,1fr));
    }
    .song-card{
      background:linear-gradient(180deg,#142033,#0b1220);
      border-radius:12px;padding:16px;cursor:pointer;
      display:flex;flex-direction:column;align-items:center;transition:transform .2s;
    }
    .song-card:hover{transform:translateY(-4px)}
    .song-art{
      width:150px;height:150px;border-radius:10px;
      background:linear-gradient(135deg,#6ee7b7,#60a5fa);
      display:flex;align-items:center;justify-content:center;font-weight:700;color:#022;
      font-size:28px;margin-bottom:12px;
    }
    .song-title{font-size:16px;font-weight:700;margin:4px 0}
    .song-artist{font-size:13px;color:#9aa4b2}

    /* --- PLAYER SCREEN (from before) --- */
    .player-wrap{
      width:100%;max-width:920px;background:rgba(255,255,255,0.03);
      border-radius:14px;padding:20px;box-shadow:0 8px 30px rgba(2,6,23,0.6);
      border:1px solid rgba(255,255,255,0.03);display:grid;
      grid-template-columns:1fr 320px;gap:18px;align-items:start;
    }
    @media(max-width:880px){.player-wrap{grid-template-columns:1fr}}
    .cover{background:#142033;border-radius:10px;padding:14px;display:flex;gap:12px;align-items:center}
    .art{width:92px;height:92px;border-radius:8px;background:linear-gradient(135deg,#6ee7b7,#60a5fa);
      display:flex;align-items:center;justify-content:center;font-weight:700;color:#022;font-size:20px;flex:0 0 92px}
    .title{font-size:18px;font-weight:700;margin:0 0 6px 0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}
    .subtitle{font-size:13px;color:#9aa4b2;margin:0 0 12px 0}
    .controls{display:flex;gap:10px;align-items:center}
    button{cursor:pointer}
    .btn{background:rgba(255,255,255,0.05);border:none;color:#6ee7b7;padding:10px 14px;border-radius:10px;font-weight:600}
    .icon{background:transparent;border:1px solid rgba(255,255,255,0.1);padding:8px;border-radius:8px;color:#cfe7ff}
    .progress{width:100%;height:10px;background:rgba(255,255,255,0.04);border-radius:99px;position:relative;cursor:pointer}
    .progress .bar{height:100%;background:linear-gradient(90deg,#6ee7b7,#60a5fa);width:0%;border-radius:99px}
    .time{display:flex;justify-content:space-between;font-size:12px;color:#9aa4b2;margin-top:6px}
    .playlist{margin-top:16px;background:rgba(255,255,255,0.018);padding:10px;border-radius:10px;max-height:240px;overflow:auto}
  </style>
</head>
<body>

  <!-- HOME SCREEN -->
  <section id="homeScreen" class="home">
    <div class="song-card" data-url="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" data-title="SoundHelix Song 1" data-artist="SoundHelix">
      <div class="song-art">S1</div>
      <div class="song-title">SoundHelix Song 1</div>
      <div class="song-artist">SoundHelix</div>
    </div>
    <div class="song-card" data-url="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3" data-title="SoundHelix Song 2" data-artist="SoundHelix">
      <div class="song-art">S2</div>
      <div class="song-title">SoundHelix Song 2</div>
      <div class="song-artist">SoundHelix</div>
    </div>
    <div class="song-card" data-url="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-3.mp3" data-title="SoundHelix Song 3" data-artist="SoundHelix">
      <div class="song-art">S3</div>
      <div class="song-title">SoundHelix Song 3</div>
      <div class="song-artist">SoundHelix</div>
    </div>
    <div class="song-card" data-url="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-4.mp3" data-title="SoundHelix Song 4" data-artist="SoundHelix">
      <div class="song-art">S4</div>
      <div class="song-title">SoundHelix Song 4</div>
      <div class="song-artist">SoundHelix</div>
    </div>
  </section>

  <!-- PLAYER SCREEN -->
  <section id="playerScreen" class="player-wrap hidden">
    <div class="left">
      <div class="cover">
        <div class="art" id="coverArt">WP</div>
        <div class="meta">
          <h1 class="title" id="trackTitle">Title</h1>
          <p class="subtitle" id="trackArtist">Artist</p>
          <div class="controls">
            <button class="icon" id="prevBtn">⏮</button>
            <button class="btn" id="playBtn">▶ Play</button>
            <button class="icon" id="nextBtn">⏭</button>
          </div>
          <div class="progress" id="progressBar"><div class="bar" id="progressFill"></div></div>
          <div class="time"><span id="currentTime">0:00</span><span id="duration">0:00</span></div>
        </div>
      </div>
      <div class="playlist" id="playlist"></div>
    </div>
    <audio id="audio" preload="metadata"></audio>
  </section>

<script>
  const homeScreen = document.getElementById('homeScreen');
  const playerScreen = document.getElementById('playerScreen');
  const audio = document.getElementById('audio');
  const trackTitle = document.getElementById('trackTitle');
  const trackArtist = document.getElementById('trackArtist');
  const coverArt = document.getElementById('coverArt');
  const playBtn = document.getElementById('playBtn');
  const prevBtn = document.getElementById('prevBtn');
  const nextBtn = document.getElementById('nextBtn');
  const progressBar = document.getElementById('progressBar');
  const progressFill = document.getElementById('progressFill');
  const currentTimeEl = document.getElementById('currentTime');
  const durationEl = document.getElementById('duration');
  const playlistEl = document.getElementById('playlist');

  let playlist = [];
  let currentIndex = 0;

  // Switch from home → player
  document.querySelectorAll('.song-card').forEach(card=>{
    card.addEventListener('click',()=>{
      const song = {
        url: card.dataset.url,
        title: card.dataset.title,
        artist: card.dataset.artist
      };
      playlist = [song]; currentIndex = 0;
      loadTrack(0);
      homeScreen.classList.add('hidden');
      playerScreen.classList.remove('hidden');
      audio.play();
    });
  });

  function loadTrack(index){
    const t = playlist[index];
    audio.src = t.url;
    trackTitle.textContent = t.title;
    trackArtist.textContent = t.artist;
    coverArt.textContent = t.title.slice(0,2).toUpperCase();
    renderPlaylist();
  }

  function renderPlaylist(){
    playlistEl.innerHTML = '';
    playlist.forEach((t,i)=>{
      const div=document.createElement('div');
      div.textContent = (i+1)+'. '+t.title+' — '+t.artist;
      if(i===currentIndex) div.style.color='#6ee7b7';
      playlistEl.appendChild(div);
    });
  }

  playBtn.addEventListener('click',()=>{ audio.paused?audio.play():audio.pause(); updatePlayBtn(); });
  audio.addEventListener('play',updatePlayBtn);
  audio.addEventListener('pause',updatePlayBtn);
  function updatePlayBtn(){ playBtn.textContent=audio.paused?'▶ Play':'⏸ Pause'; }

  // Progress
  audio.addEventListener('timeupdate',()=>{
    progressFill.style.width=((audio.currentTime/audio.duration)*100||0)+'%';
    currentTimeEl.textContent=formatTime(audio.currentTime);
    durationEl.textContent=isFinite(audio.duration)?formatTime(audio.duration):'0:00';
  });
  progressBar.addEventListener('click',e=>{
    const rect=progressBar.getBoundingClientRect();
    const pct=(e.clientX-rect.left)/rect.width;
    audio.currentTime=pct*audio.duration;
  });

  function formatTime(s){
    s=Math.floor(s)||0; return Math.floor(s/60)+':'+String(s%60).padStart(2,'0');
  }
</script>
</body>
</html>
